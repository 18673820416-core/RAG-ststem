{"error_id": "MultiAgentChatroom-AttributeError-1764337992.886329--2866460560309016356", "level": "component", "type": "AttributeError", "message": "type object 'AgentWindowState' has no attribute 'SILENT'", "timestamp": "2025-11-28T21:53:12.886336", "component": "MultiAgentChatroom", "function": "send_user_message", "file_path": "E:\\RAG系统\\src\\multi_agent_chatroom.py", "line_number": 426, "stack_trace": "Traceback (most recent call last):\n  File \"E:\\RAG系统\\src\\error_decorator.py\", line 22, in wrapper\n    return func(*args, **kwargs)\n  File \"E:\\RAG系统\\src\\multi_agent_chatroom.py\", line 460, in send_user_message\n    self._update_collaboration_level(agent_responses)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"E:\\RAG系统\\src\\multi_agent_chatroom.py\", line 525, in _update_collaboration_level\n    if hasattr(w, 'state') and w.state != AgentWindowState.SILENT])\n                                          ^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: type object 'AgentWindowState' has no attribute 'SILENT'\n", "severity": "error", "context": {"args_repr": "(<src.multi_agent_chatroom.MultiAgentChatroom object at 0x00000227345FCEC0>, '明天是什么天气啊')", "kwargs_keys": []}}
{"error_id": "stable_start_server-interface_missing-2025-12-03T08:39:00.229688-5537601669703280887", "level": "component", "type": "InterfaceMissingError", "message": "组件 stable_start_server 尝试调用 base_agent.process_message，但该方法不存在", "timestamp": "2025-12-03T08:39:00.230413", "component": "stable_start_server", "function": "interface_query", "file_path": "runtime", "line_number": 0, "stack_trace": "接口查询层", "context": {"caller_id": "stable_start_server", "target_component": "base_agent", "missing_method": "process_message", "registered_components": ["base_agent"], "available_methods": ["respond", "call_tool", "create_memory"], "user_context": {"endpoint": "/api/agent-template/message", "user_message": "测试消息"}}, "severity": "error", "suggestion": "1. 组件 base_agent 已注册，但不提供方法 process_message\n2. 可用方法列表: respond, call_tool, create_memory\n3. 请在 base_agent 中实现方法 process_message\n4. 或者修改 stable_start_server 调用已有的方法"}
{"error_id": "stable_start_server-interface_missing-2025-12-03T08:39:00.231569--661420221319040865", "level": "component", "type": "InterfaceMissingError", "message": "组件 stable_start_server 尝试调用 unknown_component.some_method，但该方法不存在", "timestamp": "2025-12-03T08:39:00.231755", "component": "stable_start_server", "function": "interface_query", "file_path": "runtime", "line_number": 0, "stack_trace": "接口查询层", "context": {"caller_id": "stable_start_server", "target_component": "unknown_component", "missing_method": "some_method", "registered_components": ["base_agent"], "available_methods": [], "user_context": {"endpoint": "/api/unknown"}}, "severity": "error", "suggestion": "1. 检查组件 unknown_component 是否已正确注册\n2. 确认组件ID拼写是否正确\n3. 查看组件注册表：data\\self_expose_registry.json"}
{"error_id": "collect_self_exposures-missing-2025-12-03T08:49:58.292273", "level": "component", "type": "SelfExposureMissingError", "message": "发现 11 个文件缺少自曝光信息", "timestamp": "2025-12-03T08:49:58.292296", "component": "collect_self_exposures", "function": "collect_self_exposures", "file_path": "E:\\RAG系统\\collect_self_exposures.py", "line_number": 0, "stack_trace": "self-exposure collection", "context": {"total_files": 92, "matched_files": 81, "missing_files": [".\\component_knowledge_graph.html", ".\\download_embedding_model.py", ".\\download_model.py", ".\\network_fix.html", ".\\quick_download.py", ".\\start.html", ".\\data\\doubao_debug.html", ".\\src\\memory_bubble_manager.py", ".\\src\\temporary_agent.py", ".\\templates\\base_agent_chat.html", ".\\templates\\chatroom.html"], "missing_count": 11}, "severity": "warning"}
{"error_id": "collect_self_exposures-missing-2025-12-03T08:51:27.217833", "level": "component", "type": "SelfExposureMissingError", "message": "发现 6 个文件缺少自曝光信息", "timestamp": "2025-12-03T08:51:27.217860", "component": "collect_self_exposures", "function": "collect_self_exposures", "file_path": "E:\\RAG系统\\collect_self_exposures.py", "line_number": 0, "stack_trace": "self-exposure collection", "context": {"total_files": 92, "matched_files": 86, "missing_files": [".\\component_knowledge_graph.html", ".\\network_fix.html", ".\\start.html", ".\\data\\doubao_debug.html", ".\\templates\\base_agent_chat.html", ".\\templates\\chatroom.html"], "missing_count": 6}, "severity": "warning"}
{"error_id": "collect_self_exposures-missing-2025-12-03T08:53:13.938112", "level": "component", "type": "SelfExposureMissingError", "message": "发现 1 个文件缺少自曝光信息", "timestamp": "2025-12-03T08:53:13.938138", "component": "collect_self_exposures", "function": "collect_self_exposures", "file_path": "E:\\RAG系统\\collect_self_exposures.py", "line_number": 0, "stack_trace": "self-exposure collection", "context": {"total_files": 92, "matched_files": 91, "missing_files": [".\\data\\doubao_debug.html"], "missing_count": 1}, "severity": "warning"}
{"error_id": "collect_self_exposures-missing-2025-12-03T08:57:11.608833", "level": "component", "type": "SelfExposureMissingError", "message": "发现 1 个文件缺少自曝光信息", "timestamp": "2025-12-03T08:57:11.608861", "component": "collect_self_exposures", "function": "collect_self_exposures", "file_path": "E:\\RAG系统\\collect_self_exposures.py", "line_number": 0, "stack_trace": "self-exposure collection", "context": {"total_files": 92, "matched_files": 91, "missing_files": [".\\data\\doubao_debug.html"], "missing_count": 1}, "severity": "warning"}
{"error_id": "collect_self_exposures-missing-2025-12-03T11:13:00.887842", "level": "component", "type": "SelfExposureMissingError", "message": "发现 1 个文件缺少自曝光信息", "timestamp": "2025-12-03T11:13:00.887872", "component": "collect_self_exposures", "function": "collect_self_exposures", "file_path": "E:\\RAG系统\\collect_self_exposures.py", "line_number": 0, "stack_trace": "self-exposure collection", "context": {"total_files": 92, "matched_files": 91, "missing_files": [".\\data\\doubao_debug.html"], "missing_count": 1}, "severity": "warning"}
{"error_id": "collect_self_exposures-missing-2025-12-06T20:03:11.233435", "level": "component", "type": "SelfExposureMissingError", "message": "发现 6 个文件缺少自曝光信息", "timestamp": "2025-12-06T20:03:11.233466", "component": "collect_self_exposures", "function": "collect_self_exposures", "file_path": "E:\\RAG系统\\collect_self_exposures.py", "line_number": 0, "stack_trace": "self-exposure collection", "context": {"total_files": 102, "matched_files": 96, "missing_files": [".\\add_qianwen_key.py", ".\\simple_qianwen_test.py", ".\\temp_test.py", ".\\verify_qwen_key.py", ".\\write_qianwen_key.py", ".\\_test_qwen_internal.py"], "missing_count": 6}, "severity": "warning"}
{"error_id": "MultiAgentChatroom-AttributeError-1765201096.87764-8429244239805935211", "level": "component", "type": "AttributeError", "message": "'MultiAgentChatroom' object has no attribute 'chatroom_id'", "timestamp": "2025-12-08T21:38:16.877647", "component": "MultiAgentChatroom", "function": "send_user_message", "file_path": "E:\\RAG系统\\src\\multi_agent_chatroom.py", "line_number": 502, "stack_trace": "Traceback (most recent call last):\n  File \"E:\\RAG系统\\src\\error_decorator.py\", line 22, in wrapper\n    return func(*args, **kwargs)\n  File \"E:\\RAG系统\\src\\multi_agent_chatroom.py\", line 515, in send_user_message\n    trace_id = f\"chatroom:{self.chatroom_id}:{datetime.now().isoformat()}\"\n                           ^^^^^^^^^^^^^^^^\nAttributeError: 'MultiAgentChatroom' object has no attribute 'chatroom_id'\n", "severity": "error", "context": {"args_repr": "(<src.multi_agent_chatroom.MultiAgentChatroom object at 0x000001F281150C20>, '你知道五大律令么？')", "kwargs_keys": []}}
{"error_id": "base-PermissionDenied-2025-12-12T23:48:38.752462--1431305567000308082", "level": "component", "type": "PermissionDenied", "message": "写操作仅限文本实现师/实现者，当前角色被禁止", "timestamp": "2025-12-12T23:48:38.754295", "component": "base", "function": "file_writing", "file_path": "logs/test_file_writing_20251212_234838.txt", "line_number": 0, "stack_trace": "agent_tool_integration.call_tool", "context": {"caller_info": {"agent_id": "test_agent_001", "agent_type": "base"}, "usage_intention": "base_agent_auto"}}
{"error_id": "agent_tool_integration-ConsensusMissing-2025-12-12T23:54:42.738563-904621094692448451", "level": "component", "type": "ConsensusMissing", "message": "写入前共识信息缺失（owner_component或protocol）", "timestamp": "2025-12-12T23:54:42.739881", "component": "agent_tool_integration", "function": "file_writing", "file_path": "logs/test_base_agent_write.txt", "line_number": 0, "stack_trace": "agent_tool_integration.call_tool", "context": {"consensus_context": {"owner_component": null, "depends_on": [], "protocol": {}, "graph_found": true, "exposure_found": true}, "caller_info": {"agent_id": "test_agent", "agent_type": "base"}}}
{"error_id": "base-CodeWritePermissionDenied-2025-12-12T23:55:32.419664--6281929609731630729", "level": "component", "type": "PermissionDenied", "message": "代码写入仅限实现师，当前角色被禁止", "timestamp": "2025-12-12T23:55:32.420995", "component": "base", "function": "file_writing", "file_path": "src/test_code.py", "line_number": 0, "stack_trace": "agent_tool_integration.call_tool", "context": {"caller_info": {"agent_id": "test_agent_write", "agent_type": "base"}, "usage_intention": "base_agent_auto"}}
{"error_id": "base-CodeWritePermissionDenied-2025-12-13T00:07:17.097718--2035803017843094169", "level": "component", "type": "PermissionDenied", "message": "代码写入仅限实现师，当前角色被禁止", "timestamp": "2025-12-13T00:07:17.099140", "component": "base", "function": "file_writing", "file_path": "src/test_code.py", "line_number": 0, "stack_trace": "agent_tool_integration.call_tool", "context": {"caller_info": {"agent_id": "test_agent_write", "agent_type": "base"}, "usage_intention": "base_agent_auto"}}
