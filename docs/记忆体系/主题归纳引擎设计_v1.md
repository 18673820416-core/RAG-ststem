## 主题归纳引擎设计_v1
# @self-expose: {"id":"induction_engine_spec","name":"主题归纳引擎设计","type":"doc","version":"1.0.0","needs":{"deps":[],"resources":[]},"provides":{"capabilities":["spec.topic_induction","spec.event_extraction","spec.evaluation"]}}

### 1. 背景与目标
- 背景: 主题维归纳是高频、可标准化任务, 不应频繁占用 LLM 的认知资源。
- 目标: 前置“归纳引擎工具”, 在分片→向量化之前自动生成结构化主题摘要与初步事件候选, 以便首次记忆重构即可评估其有效性。

### 2. 输入与输出
- 输入(单条): `{ id: str, text: str }`
- 输出(单条):
  ```json
  {
    "id": "...",
    "topic_summary": "...",          // 结论摘要(主题维)
    "key_points": ["..."],           // 要点列表(可用于事件维初始节点)
    "events": [                       // 初步事件候选(事件维)
      {"snippet": "...", "position": 0, "time_hint": true, "numbers": 2}
    ],
    "stats": {"total_sentences": 12, "selected": 3}
  }
  ```

### 3. 引擎实现约束
- 纯本地、无外网、无第三方依赖; 语言无关的启发式实现(MVP)。
- 句子分割与启发式评分(Lead位置、数字/标点、要点符号、长度正则化)。
- 时间提示/数字计数驱动的事件候选抽取(启发式)。

### 4. 系统接入时机(前置)
- 数据收集师完成收集 → 文件分片 → 【主题归纳引擎】→ 向量化入库。
- 归纳引擎的输出被写入长期记忆的相应维度(主题、事件), 作为后续重构与推理的输入。

### 5. 与记忆重构的协同
- 首次记忆重构即评估归纳引擎质量: 对比原文/摘要/事件序列。
- 若引擎失败, 触发“主题维纠偏任务”(LLM仅在纠偏时参与, 非高频参与)。
- 逻辑链补全仍由 LLM+网状思维在重构阶段主导, 引擎只负责前置归纳。

### 6. 评估指标(MVP)
- 覆盖度: 摘要是否覆盖文本主要信息点(人工/抽样评估)。
- 稳定性: 相近文本的摘要一致性(去抖动率)。
- 事件率: 有效事件候选的占比(含时间/数字/动词信号)。
- 互操作性: 与十二维向量库维度映射的完整度(主题/事件/置信度写回率)。

### 7. 后续增强方向
- 引入简单的停用词与分词(可配置), 提升中文摘要质量。
- 人物维与因果边的事件关联, 供知识图谱使用。
- 自适应评分: 基于历史评估结果自动调整权重。

### 8. 版本
- v1.0.0: 设计稿(MVP), 已有实现: `tools/induction_engine.py`
